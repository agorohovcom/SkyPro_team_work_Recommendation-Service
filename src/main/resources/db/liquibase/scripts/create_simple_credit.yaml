databaseChangeLog:
  - changeSet:
      id: 5
      author: sergey_white
      changes:
        - insert:
            tableName: rule
            columns:
              - column:
                  name: product_name
                  value: 'Простой кредит'
              - column:
                  name: product_id
                  value: 'ab138afb-f3ba-4a93-b74f-0fcee86d447f'
              - column:
                  name: product_text
                  value: |
                    Откройте мир выгодных кредитов с нами!
                    
                    Ищете способ быстро и без лишних хлопот получить нужную сумму? Тогда наш выгодный кредит — именно то, что вам нужно! Мы предлагаем низкие процентные ставки, гибкие условия и индивидуальный подход к каждому клиенту.
                    
                    Почему выбирают нас:
                    
                    Быстрое рассмотрение заявки. Мы ценим ваше время, поэтому процесс рассмотрения заявки занимает всего несколько часов.
                    
                    Удобное оформление. Подать заявку на кредит можно онлайн на нашем сайте или в мобильном приложении.
                    
                    Широкий выбор кредитных продуктов. Мы предлагаем кредиты на различные цели: покупку недвижимости, автомобиля, образование, лечение и многое другое.
                    
                    Не упустите возможность воспользоваться выгодными условиями кредитования от нашей компании!

        - insert:
            tableName: query
            columns:
              - column:
                  name: rule_id
                  valueComputed: (SELECT MAX(id) FROM rule)
              - column:
                  name: query_type
                  value: 'USER_OF'
              - column:
                  name: arguments
                  value: '{"p.type": "CREDIT"}'
              - column:
                  name: negate
                  value: 'true'

        - insert:
            tableName: query
            columns:
              - column:
                  name: rule_id
                  valueComputed: (SELECT MAX(id) FROM rule)
              - column:
                  name: query_type
                  value: 'TRANSACTION_SUM_COMPARE_DEPOSIT_WITHDRAW'
              - column:
                  name: arguments
                  value: '{"p.type": "DEBIT","comparison": ">","p.type": "DEBIT"}'
              - column:
                  name: negate
                  value: 'false'

        - insert:
            tableName: query
            columns:
              - column:
                  name: rule_id
                  valueComputed: (SELECT MAX(id) FROM rule)
              - column:
                  name: query_type
                  value: 'TRANSACTION_SUM_COMPARE'
              - column:
                  name: arguments
                  value: '{"p.type": "DEBIT","t.type": "WITHDRAW","comparison": ">","value": 100000}'
              - column:
                  name: negate
                  value: 'false'